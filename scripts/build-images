#!/usr/bin/env bash

# source colors
dir="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
source "${dir}/colorizer-lib/colorizer.sh"

if [ "$UID" -ne 0 ]; then
  colorize "<red>Please run as root</red>"
  exit 1
fi

cd /apps

langs=( node python ruby go )

# loop through langs
# build
for lang in "${langs[@]}"
do
    colorize "<cyan>building ${lang}...</cyan>"
    docker build --no-cache --rm -t  ${lang}/base ${lang}/
done

# clean up
/scripts/clean-docker

colorize "<white>Done!!</white>"